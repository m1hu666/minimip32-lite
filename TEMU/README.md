## 1. TEMU工程目录介绍

- 目录结构：
```txt
   +--mips_sc/              : 测试程序目录
   |        
   |--temu/			        : temu源程序目录
   |
   |--Makefile			    : make脚本
```

- 目录"mips_sc"用于保存测试程序，并对其进行编译，包含build和src文件夹，convert.c，default.ld， Makefile文件。目前测试程序仅支持汇编形式。

## 2. TEMU的使用步骤

- (1). 在终端进入目录”mips_sc“，输入“make”，编译测试程序。此时，在TEMU工程根目录下生成两个可加载的二进制文件“inst.bin”和“data.bin”，分别对应测试程序的指令段和数据段。
- (2). 在终端退回TEMU工程根目录，输入“make run”，编译temu指令集仿真器并启动。
- (3). 如果需要重新编译测试程序和temu仿真器源代码，请在TEMU工程根目录下输入“make clean”，然后重复前两步。
- (4). 如果只想编译temu仿真器源代码，请在TEMU工程根目录下输入“make clean-temu”，然后再输入“make run”即可。

## 3. 图形界面模式

### 3.1 系统要求

TEMU 现在支持图形化界面（GUI），提供更直观的调试体验。

#### 依赖安装

```bash
sudo apt-get update
sudo apt-get install libgtk-3-dev pkg-config
```

#### 检查GUI支持
```bash
make check-gui
```

### 3.2 启动图形界面

```bash
# 确保已编译测试程序
cd mips_sc && make && cd ..

# 启动GUI模式
make run-gui
```

### 3.3 图形界面布局

```
┌─────────────────────────────────────────────────────┐
│  工具栏:  Run | Step | Step N | Reset | Watchpoint  │
├──────────────────────┬──────────────────────────────┤
│  文本段（指令）       │   寄存器（32个MIPS寄存器）    │
│  - 显示程序指令      │   - 实时显示寄存器值         │
│  - 高亮当前PC        │   - 十六进制/十进制显示       │
├──────────────────────┼──────────────────────────────┤
│  控制台输出          │   内存查看（数据段）          │
│  - 程序输出          │   - 可指定地址查看            │
│  - 调试信息          │   - 显示地址、数据、指令      │
└──────────────────────┴──────────────────────────────┘
```

### 3.4 主要功能

| 功能 | 说明 |
|------|------|
| **▶ Run** | 连续运行程序直到结束 |
| **⏭ Step** | 单步执行一条指令 |
| **⏩ Step N** | 执行N条指令（N可自定义） |
| **🔄 Reset** | 重置系统，重新加载程序 |
| **📍 Go to PC** | 跳转到当前PC位置 |
| **断点管理** | 在指定地址设置执行断点（最多10个） |
| **监视点** | 监视寄存器或表达式值的变化 |
| **内存查看** | 查看指定地址的内存内容 |